<section class="view game-view game-tuning-time" id="view-game-tuning-time" aria-label="Game: Panda Tuner">
  <div class="game-header">
    <a href="#view-games" class="back-btn"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
        stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M15 18l-6-6 6-6" />
      </svg>Exit</a>
    <h2>Panda Tuner</h2>
    <div class="game-score">Guided Drill</div>
  </div>
  <div class="game-content" id="tuning-time-content">

    <!-- Full Bleed Background Canvas -->
    <canvas id="pitch-quest-canvas" class="tuning-gpu-canvas"></canvas>

    <!-- Floating HUD HUD -->
    <div class="tuning-time-stage">

      <div class="glass-panel" style="width: min(100%, 400px); text-align: center;">
        <div class="tuning-hud" style="margin-bottom: var(--space-4);">
          <div class="tuning-score">Score <span data-tuning="score"
              style="color: var(--color-primary); font-weight: 800; font-size: 1.5em;">0</span></div>
          <div class="tuning-status" data-tuning="status" aria-live="polite"
            style="font-weight: 700; color: var(--color-text-muted);">Pick a string and tune.</div>
        </div>

        <div class="tuning-progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"
          aria-label="Tuning accuracy" style="display: none;">
          <span class="tuning-progress-fill" data-tuning="progress" style="width: 0%"></span>
        </div>

        <div class="tuning-strings"
          style="display: flex; gap: var(--space-2); justify-content: center; margin-bottom: var(--space-4);">
          <button class="btn btn-primary tuning-btn" data-tuning-note="G" type="button"
            style="min-width: 60px;">G</button>
          <button class="btn btn-primary tuning-btn" data-tuning-note="D" type="button"
            style="min-width: 60px;">D</button>
          <button class="btn btn-primary tuning-btn" data-tuning-note="A" type="button"
            style="min-width: 60px;">A</button>
          <button class="btn btn-primary tuning-btn" data-tuning-note="E" type="button"
            style="min-width: 60px;">E</button>
        </div>

        <a class="btn btn-secondary" href="#view-tuner" style="width: 100%;">Open Live Tuner</a>
      </div>
    </div>
    <details class="pitch-audio glass">
      <summary class="btn btn-secondary">Reference tones</summary>
      <div class="audio-grid">
        <div class="audio-card">
          <span class="audio-label" id="tuning-g-label">G</span>
          <audio controls="" preload="none" src="./assets/audio/violin-g3.wav" aria-labelledby="tuning-g-label"></audio>
        </div>
        <div class="audio-card">
          <span class="audio-label" id="tuning-d-label">D</span>
          <audio controls="" preload="none" src="./assets/audio/violin-d4.wav" aria-labelledby="tuning-d-label"></audio>
        </div>
        <div class="audio-card">
          <span class="audio-label" id="tuning-a-label">A</span>
          <audio controls="" preload="none" src="./assets/audio/violin-a4.wav" aria-labelledby="tuning-a-label"></audio>
        </div>
        <div class="audio-card">
          <span class="audio-label" id="tuning-e-label">E</span>
          <audio controls="" preload="none" src="./assets/audio/violin-e5.wav" aria-labelledby="tuning-e-label"></audio>
        </div>
      </div>
    </details>
    <div class="game-drill glass">
      <p class="game-drill-intro">Tune each string once and mark your progress.</p>
      <div class="game-checklist-group" data-total="4">
        <div class="game-progress" data-total="4">
          <span class="game-progress-label">Strings tuned</span>
        </div>
        <ol class="game-checklist">
          <li class="game-check-item">
            <input type="checkbox" id="tt-step-1">
            <label for="tt-step-1"><span class="note-chip">G</span> Tune the G string.</label>
          </li>
          <li class="game-check-item">
            <input type="checkbox" id="tt-step-2">
            <label for="tt-step-2"><span class="note-chip">D</span> Tune the D string.</label>
          </li>
          <li class="game-check-item">
            <input type="checkbox" id="tt-step-3">
            <label for="tt-step-3"><span class="note-chip">A</span> Tune the A string.</label>
          </li>
          <li class="game-check-item">
            <input type="checkbox" id="tt-step-4">
            <label for="tt-step-4"><span class="note-chip">E</span> Tune the E string.</label>
          </li>
        </ol>
      </div>
    </div>
    <picture>
      <source srcset="./assets/illustrations/epic_mascot_listening.png" type="image/png">
      <img src="./assets/illustrations/epic_mascot_listening.png" alt="" class="game-mascot mascot-tuning"
        loading="lazy" decoding="async">
    </picture>
  </div>
</section>