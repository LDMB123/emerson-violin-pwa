class v{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,P.unregister(this),e}free(){const e=this.__destroy_into_raw();t.__wbg_achievement_free(e,0)}get description(){let e,n;try{const _=t.achievement_description(this.__wbg_ptr);return e=_[0],n=_[1],c(_[0],_[1])}finally{t.__wbindgen_free(e,n,1)}}get icon(){let e,n;try{const _=t.achievement_icon(this.__wbg_ptr);return e=_[0],n=_[1],c(_[0],_[1])}finally{t.__wbindgen_free(e,n,1)}}get id(){let e,n;try{const _=t.achievement_id(this.__wbg_ptr);return e=_[0],n=_[1],c(_[0],_[1])}finally{t.__wbindgen_free(e,n,1)}}get name(){let e,n;try{const _=t.achievement_name(this.__wbg_ptr);return e=_[0],n=_[1],c(_[0],_[1])}finally{t.__wbindgen_free(e,n,1)}}get unlocked(){return t.achievement_unlocked(this.__wbg_ptr)!==0}}Symbol.dispose&&(v.prototype[Symbol.dispose]=v.prototype.free);class x{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,F.unregister(this),e}free(){const e=this.__destroy_into_raw();t.__wbg_achievementtracker_free(e,0)}check_progress(e,n){U(e,m);const _=t.achievementtracker_check_progress(this.__wbg_ptr,e.__wbg_ptr,n);var s=D(_[0],_[1]).slice();return t.__wbindgen_free(_[0],_[1]*4,4),s}is_unlocked(e){const n=h(e,t.__wbindgen_malloc,t.__wbindgen_realloc),_=o;return t.achievementtracker_is_unlocked(this.__wbg_ptr,n,_)!==0}constructor(){const e=t.achievementtracker_new();return this.__wbg_ptr=e>>>0,F.register(this,this.__wbg_ptr,this),this}total_count(){return t.achievementtracker_total_count(this.__wbg_ptr)>>>0}unlock(e,n){const _=h(e,t.__wbindgen_malloc,t.__wbindgen_realloc),s=o;return t.achievementtracker_unlock(this.__wbg_ptr,_,s,n)!==0}unlocked_count(){return t.achievementtracker_unlocked_count(this.__wbg_ptr)>>>0}}Symbol.dispose&&(x.prototype[Symbol.dispose]=x.prototype.free);class R{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,z.unregister(this),e}free(){const e=this.__destroy_into_raw();t.__wbg_gametimer_free(e,0)}get bpm(){return t.gametimer_bpm(this.__wbg_ptr)}get_beat(e){return t.gametimer_get_beat(this.__wbg_ptr,e)}get ms_per_beat(){return t.gametimer_ms_per_beat(this.__wbg_ptr)}constructor(e){const n=t.gametimer_new(e);return this.__wbg_ptr=n>>>0,z.register(this,this.__wbg_ptr,this),this}score_tap(e,n){return t.gametimer_score_tap(this.__wbg_ptr,e,n)}set_bpm(e){t.gametimer_set_bpm(this.__wbg_ptr,e)}start(e){t.gametimer_start(this.__wbg_ptr,e)}}Symbol.dispose&&(R.prototype[Symbol.dispose]=R.prototype.free);class m{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,T.unregister(this),e}free(){const e=this.__destroy_into_raw();t.__wbg_playerprogress_free(e,0)}add_xp(e){return t.playerprogress_add_xp(this.__wbg_ptr,e)!==0}get games_played(){return t.playerprogress_games_played(this.__wbg_ptr)>>>0}get level(){return t.playerprogress_level(this.__wbg_ptr)}level_progress(){return t.playerprogress_level_progress(this.__wbg_ptr)}log_game_score(e,n){const _=h(e,t.__wbindgen_malloc,t.__wbindgen_realloc),s=o;return t.playerprogress_log_game_score(this.__wbg_ptr,_,s,n)>>>0}log_practice(e,n){return t.playerprogress_log_practice(this.__wbg_ptr,e,n)>>>0}log_song_complete(e){return t.playerprogress_log_song_complete(this.__wbg_ptr,e)>>>0}constructor(){const e=t.playerprogress_new();return this.__wbg_ptr=e>>>0,T.register(this,this.__wbg_ptr,this),this}get songs_completed(){return t.playerprogress_songs_completed(this.__wbg_ptr)>>>0}get streak(){return t.playerprogress_streak(this.__wbg_ptr)>>>0}get total_minutes(){return t.playerprogress_total_minutes(this.__wbg_ptr)>>>0}get xp(){return t.playerprogress_xp(this.__wbg_ptr)>>>0}xp_to_next_level(){return t.playerprogress_xp_to_next_level(this.__wbg_ptr)>>>0}}Symbol.dispose&&(m.prototype[Symbol.dispose]=m.prototype.free);const q=Object.freeze({Pitch:0,0:"Pitch",Rhythm:1,1:"Rhythm",BowControl:2,2:"BowControl",Posture:3,3:"Posture",Reading:4,4:"Reading"});class A{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),e}free(){const e=this.__destroy_into_raw();t.__wbg_skillprofile_free(e,0)}get bow_control(){return t.skillprofile_bow_control(this.__wbg_ptr)}constructor(){const e=t.skillprofile_new();return this.__wbg_ptr=e>>>0,W.register(this,this.__wbg_ptr,this),this}overall(){return t.skillprofile_overall(this.__wbg_ptr)}get pitch(){return t.skillprofile_pitch(this.__wbg_ptr)}get posture(){return t.skillprofile_posture(this.__wbg_ptr)}get reading(){return t.skillprofile_reading(this.__wbg_ptr)}get rhythm(){return t.skillprofile_rhythm(this.__wbg_ptr)}update_bow_control(e){t.skillprofile_update_bow_control(this.__wbg_ptr,e)}update_pitch(e){t.skillprofile_update_pitch(this.__wbg_ptr,e)}update_posture(e){t.skillprofile_update_posture(this.__wbg_ptr,e)}update_reading(e){t.skillprofile_update_reading(this.__wbg_ptr,e)}update_rhythm(e){t.skillprofile_update_rhythm(this.__wbg_ptr,e)}update_skill(e,n){t.skillprofile_update_skill(this.__wbg_ptr,e,n)}weakest_skill(){let e,n;try{const _=t.skillprofile_weakest_skill(this.__wbg_ptr);return e=_[0],n=_[1],c(_[0],_[1])}finally{t.__wbindgen_free(e,n,1)}}}Symbol.dispose&&(A.prototype[Symbol.dispose]=A.prototype.free);class S{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),e}free(){const e=this.__destroy_into_raw();t.__wbg_xprewards_free(e,0)}get game_perfect(){return t.__wbg_get_xprewards_game_perfect(this.__wbg_ptr)>>>0}get per_minute(){return t.__wbg_get_xprewards_per_minute(this.__wbg_ptr)>>>0}get song_complete(){return t.__wbg_get_xprewards_song_complete(this.__wbg_ptr)>>>0}get streak_multiplier(){return t.__wbg_get_xprewards_streak_multiplier(this.__wbg_ptr)}set game_perfect(e){t.__wbg_set_xprewards_game_perfect(this.__wbg_ptr,e)}set per_minute(e){t.__wbg_set_xprewards_per_minute(this.__wbg_ptr,e)}set song_complete(e){t.__wbg_set_xprewards_song_complete(this.__wbg_ptr,e)}set streak_multiplier(e){t.__wbg_set_xprewards_streak_multiplier(this.__wbg_ptr,e)}}Symbol.dispose&&(S.prototype[Symbol.dispose]=S.prototype.free);function X(r){const e=C(r,t.__wbindgen_malloc),n=o;return t.calculate_difficulty(e,n)}function G(r){const e=j(r,t.__wbindgen_malloc),n=o;return t.calculate_streak(e,n)>>>0}function H(){t.init()}function M(){return{__proto__:null,"./panda_core_bg.js":{__proto__:null,__wbg___wbindgen_throw_be289d5034ed271b:function(e,n){throw new Error(c(e,n))},__wbg_error_7534b8e9a36f1ab4:function(e,n){let _,s;try{_=e,s=n,console.error(c(e,n))}finally{t.__wbindgen_free(_,s,1)}},__wbg_new_8a6f238a6ece86ea:function(){return new Error},__wbg_stack_0ed75d68575b0f3c:function(e,n){const _=n.stack,s=h(_,t.__wbindgen_malloc,t.__wbindgen_realloc),p=o;k().setInt32(e+4,p,!0),k().setInt32(e+0,s,!0)},__wbindgen_cast_0000000000000001:function(e,n){return c(e,n)},__wbindgen_init_externref_table:function(){const e=t.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)}}}}const P=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>t.__wbg_achievement_free(r>>>0,1)),F=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>t.__wbg_achievementtracker_free(r>>>0,1)),z=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>t.__wbg_gametimer_free(r>>>0,1)),T=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>t.__wbg_playerprogress_free(r>>>0,1)),W=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>t.__wbg_skillprofile_free(r>>>0,1)),E=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>t.__wbg_xprewards_free(r>>>0,1));function U(r,e){if(!(r instanceof e))throw new Error(`expected instance of ${e.name}`)}function D(r,e){r=r>>>0;const n=k(),_=[];for(let s=r;s<r+4*e;s+=4)_.push(t.__wbindgen_externrefs.get(n.getUint32(s,!0)));return t.__externref_drop_slice(r,e),_}let l=null;function k(){return(l===null||l.buffer.detached===!0||l.buffer.detached===void 0&&l.buffer!==t.memory.buffer)&&(l=new DataView(t.memory.buffer)),l}function c(r,e){return r=r>>>0,L(r,e)}let f=null;function I(){return(f===null||f.byteLength===0)&&(f=new Uint32Array(t.memory.buffer)),f}let u=null;function w(){return(u===null||u.byteLength===0)&&(u=new Uint8Array(t.memory.buffer)),u}function j(r,e){const n=e(r.length*4,4)>>>0;return I().set(r,n/4),o=r.length,n}function C(r,e){const n=e(r.length*1,1)>>>0;return w().set(r,n/1),o=r.length,n}function h(r,e,n){if(n===void 0){const a=b.encode(r),g=e(a.length,1)>>>0;return w().subarray(g,g+a.length).set(a),o=a.length,g}let _=r.length,s=e(_,1)>>>0;const p=w();let i=0;for(;i<_;i++){const a=r.charCodeAt(i);if(a>127)break;p[s+i]=a}if(i!==_){i!==0&&(r=r.slice(i)),s=n(s,_,_=i+r.length*3,1)>>>0;const a=w().subarray(s+i,s+_),g=b.encodeInto(r,a);i+=g.written,s=n(s,_,i,1)>>>0}return o=i,s}let d=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});d.decode();const B=2146435072;let y=0;function L(r,e){return y+=e,y>=B&&(d=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),d.decode(),y=e),d.decode(w().subarray(r,r+e))}const b=new TextEncoder;"encodeInto"in b||(b.encodeInto=function(r,e){const n=b.encode(r);return e.set(n),{read:r.length,written:n.length}});let o=0,t;function O(r,e){return t=r.exports,l=null,f=null,u=null,t.__wbindgen_start(),t}async function V(r,e){if(typeof Response=="function"&&r instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(r,e)}catch(s){if(r.ok&&n(r.type)&&r.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}const _=await r.arrayBuffer();return await WebAssembly.instantiate(_,e)}else{const _=await WebAssembly.instantiate(r,e);return _ instanceof WebAssembly.Instance?{instance:_,module:r}:_}function n(_){switch(_){case"basic":case"cors":case"default":return!0}return!1}}function J(r){if(t!==void 0)return t;r!==void 0&&(Object.getPrototypeOf(r)===Object.prototype?{module:r}=r:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=M();r instanceof WebAssembly.Module||(r=new WebAssembly.Module(r));const n=new WebAssembly.Instance(r,e);return O(n)}async function N(r){if(t!==void 0)return t;r!==void 0&&(Object.getPrototypeOf(r)===Object.prototype?{module_or_path:r}=r:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),r===void 0&&(r=new URL(""+new URL("panda_core_bg.wasm",import.meta.url).href,import.meta.url));const e=M();(typeof r=="string"||typeof Request=="function"&&r instanceof Request||typeof URL=="function"&&r instanceof URL)&&(r=fetch(r));const{instance:n,module:_}=await V(await r,e);return O(n)}export{v as Achievement,x as AchievementTracker,R as GameTimer,m as PlayerProgress,q as SkillCategory,A as SkillProfile,S as XpRewards,X as calculate_difficulty,G as calculate_streak,N as default,H as init,J as initSync};
