class m{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,A.unregister(this),e}free(){const e=this.__destroy_into_raw();i.__wbg_pitchdetector_free(e,0)}detect(e){const n=T(e,i.__wbindgen_malloc),r=a,s=i.pitchdetector_detect(this.__wbg_ptr,n,r);return d.__wrap(s)}get_nearest_string(e){let n,r;try{const s=i.pitchdetector_get_nearest_string(this.__wbg_ptr,e);return n=s[0],r=s[1],y(s[0],s[1])}finally{i.__wbindgen_free(n,r,1)}}constructor(e,n){const r=i.pitchdetector_new(e,n);return this.__wbg_ptr=r>>>0,A.register(this,this.__wbg_ptr,this),this}set_tune_tolerance(e){i.pitchdetector_set_tune_tolerance(this.__wbg_ptr,e)}set_volume_threshold(e){i.pitchdetector_set_volume_threshold(this.__wbg_ptr,e)}}Symbol.dispose&&(m.prototype[Symbol.dispose]=m.prototype.free);class d{static __wrap(e){e=e>>>0;const n=Object.create(d.prototype);return n.__wbg_ptr=e,R.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,R.unregister(this),e}free(){const e=this.__destroy_into_raw();i.__wbg_pitchresult_free(e,0)}get cents(){return i.pitchresult_cents(this.__wbg_ptr)}get confidence(){return i.pitchresult_confidence(this.__wbg_ptr)}get frequency(){return i.pitchresult_frequency(this.__wbg_ptr)}get in_tune(){return i.pitchresult_in_tune(this.__wbg_ptr)!==0}get note(){let e,n;try{const r=i.pitchresult_note(this.__wbg_ptr);return e=r[0],n=r[1],y(r[0],r[1])}finally{i.__wbindgen_free(e,n,1)}}get volume(){return i.pitchresult_volume(this.__wbg_ptr)}}Symbol.dispose&&(d.prototype[Symbol.dispose]=d.prototype.free);function j(t,e,n){const r=i.generate_tone_buffer(t,e,n);var s=O(r[0],r[1]).slice();return i.__wbindgen_free(r[0],r[1]*4,4),s}function I(){i.init()}function z(t){const e=M(t,i.__wbindgen_malloc,i.__wbindgen_realloc),n=a;return i.string_frequency(e,n)}function S(){return{__proto__:null,"./panda_audio_bg.js":{__proto__:null,__wbg___wbindgen_throw_be289d5034ed271b:function(e,n){throw new Error(y(e,n))},__wbg_error_7534b8e9a36f1ab4:function(e,n){let r,s;try{r=e,s=n,console.error(y(e,n))}finally{i.__wbindgen_free(r,s,1)}},__wbg_new_8a6f238a6ece86ea:function(){return new Error},__wbg_stack_0ed75d68575b0f3c:function(e,n){const r=n.stack,s=M(r,i.__wbindgen_malloc,i.__wbindgen_realloc),g=a;F().setInt32(e+4,g,!0),F().setInt32(e+0,s,!0)},__wbindgen_init_externref_table:function(){const e=i.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)}}}}const A=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>i.__wbg_pitchdetector_free(t>>>0,1)),R=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>i.__wbg_pitchresult_free(t>>>0,1));function O(t,e){return t=t>>>0,W().subarray(t/4,t/4+e)}let _=null;function F(){return(_===null||_.buffer.detached===!0||_.buffer.detached===void 0&&_.buffer!==i.memory.buffer)&&(_=new DataView(i.memory.buffer)),_}let u=null;function W(){return(u===null||u.byteLength===0)&&(u=new Float32Array(i.memory.buffer)),u}function y(t,e){return t=t>>>0,D(t,e)}let l=null;function w(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(i.memory.buffer)),l}function T(t,e){const n=e(t.length*4,4)>>>0;return W().set(t,n/4),a=t.length,n}function M(t,e,n){if(n===void 0){const c=b.encode(t),f=e(c.length,1)>>>0;return w().subarray(f,f+c.length).set(c),a=c.length,f}let r=t.length,s=e(r,1)>>>0;const g=w();let o=0;for(;o<r;o++){const c=t.charCodeAt(o);if(c>127)break;g[s+o]=c}if(o!==r){o!==0&&(t=t.slice(o)),s=n(s,r,r=o+t.length*3,1)>>>0;const c=w().subarray(s+o,s+r),f=b.encodeInto(t,c);o+=f.written,s=n(s,r,o,1)>>>0}return a=o,s}let p=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});p.decode();const v=2146435072;let h=0;function D(t,e){return h+=e,h>=v&&(p=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),p.decode(),h=e),p.decode(w().subarray(t,t+e))}const b=new TextEncoder;"encodeInto"in b||(b.encodeInto=function(t,e){const n=b.encode(t);return e.set(n),{read:t.length,written:n.length}});let a=0,i;function x(t,e){return i=t.exports,_=null,u=null,l=null,i.__wbindgen_start(),i}async function E(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(s){if(t.ok&&n(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}const r=await t.arrayBuffer();return await WebAssembly.instantiate(r,e)}else{const r=await WebAssembly.instantiate(t,e);return r instanceof WebAssembly.Instance?{instance:r,module:t}:r}function n(r){switch(r){case"basic":case"cors":case"default":return!0}return!1}}function L(t){if(i!==void 0)return i;t!==void 0&&(Object.getPrototypeOf(t)===Object.prototype?{module:t}=t:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=S();t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const n=new WebAssembly.Instance(t,e);return x(n)}async function U(t){if(i!==void 0)return i;t!==void 0&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),t===void 0&&(t=new URL(""+new URL("panda_audio_bg.wasm",import.meta.url).href,import.meta.url));const e=S();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await E(await t,e);return x(n)}export{m as PitchDetector,d as PitchResult,U as default,j as generate_tone_buffer,I as init,L as initSync,z as string_frequency};
